
<dom-module id="ls-lic-input">
    <template>

        <custom-style>
            <style include="slate-font-awesome">

            </style>
        </custom-style>

        <label>[[itemName]]</label>
        <input id="{{id}}" type="text" value="{{value::input}}">
        <template is="dom-if" if="{{hasUnlimited}}">
            <input type="checkbox" checked="{{isUnlimitedEdition::change}}">無制限
        </template>
    </template>
    <script>
        class LsLicInput extends Polymer.Element {
            static get is() {
                return 'ls-lic-input';
            }
            static get properties() {
                return {
                    id: {
                        type: String
                    },
                    value: {
                        type: Number,
                        observer: '_valueChanged'
                    },
                    itemName: String,
                    hostChecked: Boolean,
                    isUnlimitedEdition: {
                        type: Boolean,
                        value: false,
                        observer: '_toggleUnlimitedEdition'
                    },
                    prevValue: {
                        type: Number
                    },
                    hasUnlimited: Boolean
                }
            }
            toggle(hc) {
                console.log(hc);
                console.log('hey!');
            }
            _valueChanged(n, o) {
                //console.log(n + ':' + o);
            }
            _toggleUnlimitedEdition(n, o) {
                if (n) {
                    this.prevValue = this.value;
                    this.value = -1;
                } else {
                    if (this.prevValue !== undefined) {
                        this.value = this.prevValue;
                    }
                }
            }
        }
        window.customElements.define(LsLicInput.is, LsLicInput);
    </script>
</dom-module>